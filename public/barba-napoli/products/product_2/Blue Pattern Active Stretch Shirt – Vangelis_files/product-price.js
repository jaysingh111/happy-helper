import{ThemeEvents}from"@theme/events";import{Component}from"@theme/component";class ProductPrice extends Component{connectedCallback(){super.connectedCallback();const closestSection=this.closest(".shopify-section, dialog");closestSection&&closestSection.addEventListener(ThemeEvents.variantUpdate,this.updatePrice)}disconnectedCallback(){super.disconnectedCallback();const closestSection=this.closest(".shopify-section, dialog");closestSection&&closestSection.removeEventListener(ThemeEvents.variantUpdate,this.updatePrice)}updatePrice=event=>{if(event.detail.data.newProduct)this.dataset.productId=event.detail.data.newProduct.id;else if(event.target instanceof HTMLElement&&event.target.dataset.productId!==this.dataset.productId)return;const{priceContainer,volumePricingNote}=this.refs,newProductPrice=event.detail.data.html.querySelector(`product-price[data-block-id="${this.dataset.blockId}"]`);if(!newProductPrice)return;const newPrice=newProductPrice.querySelector('[ref="priceContainer"]');newPrice&&priceContainer&&priceContainer.replaceWith(newPrice);const newNote=newProductPrice.querySelector('[ref="volumePricingNote"]');newNote?volumePricingNote?volumePricingNote.replaceWith(newNote):newPrice?.insertAdjacentElement("afterend",newNote.cloneNode(!0)):volumePricingNote?.remove()}}customElements.get("product-price")||customElements.define("product-price",ProductPrice);
//# sourceMappingURL=/cdn/shop/t/31/assets/product-price.js.map?v=164492227269745550161772010758
